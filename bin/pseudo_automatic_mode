#! /bin/sh

fwid=$(bspc query -W -w focused.automatic)
wid=$1
class=$2
instance=$3
title=$(xtitle "$wid")
floats=$(bspc query -T -w | grep " f"| wc -l)
if [ -n "$fwid" ] ; then
	wattr wh $fwid | {
		read width height
		if [ $width -gt $height ] ; then
			echo "split_dir=left"
		else
			echo "split_dir=down"
		fi
		echo "split_ratio=0.5"
	}
fi
window-placer $floats $wid
